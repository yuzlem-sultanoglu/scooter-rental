const CONFIG = {
  BUSINESS_NAME: "SwiftRide",
  PHONE_NUMBER: "+15551234567",
  WHATSAPP_NUMBER: "+15551234567",
  MAPS_EMBED_URL:
    "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.086693398545!2d-122.4194!3d37.7749!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8085809c5bb4b4b1%3A0x0!2sDowntown!5e0!3m2!1sen!2sus!4v0000000000000",
  MAPS_LINK_URL: "https://maps.google.com/?q=Downtown",
  ADDRESS: "95 Market Street, Downtown",
  OPENING_HOURS: "Daily 08:00–20:00",
};

const i18n = {
  en: {
    brandName: "SwiftRide",
    skipToContent: "Skip to content",
    navHome: "Home",
    navPricing: "Pricing",
    navHow: "How it works",
    navLocation: "Location",
    navFaq: "FAQ",
    navContact: "Contact",
    heroEyebrow: "City scooter rentals",
    heroTitle: "Zip through the city in minutes.",
    heroSubtitle:
      "Book a clean, reliable scooter with WhatsApp in seconds. Flexible plans and helmets included.",
    ctaWhatsapp: "WhatsApp us",
    ctaCall: "Call now",
    bulletFast: "Fast pickup",
    bulletDeals: "Daily/Weekly deals",
    bulletHelmets: "Helmets included",
    heroCardTitle: "Ready in 5 minutes",
    heroCardBody: "Reserve by phone or WhatsApp and pick up at our downtown hub.",
    heroTag1: "No deposits",
    heroTag2: "All-day support",
    pricingTitle: "Simple pricing",
    pricingSubtitle: "Transparent plans for quick rides or longer adventures.",
    pricingHourly: "Hourly",
    pricingHourlyNote: "Perfect for quick errands.",
    pricingDaily: "Daily",
    pricingDailyNote: "Best for city exploring.",
    pricingWeekly: "Weekly",
    pricingWeeklyNote: "Great for commuters.",
    pricingDisclaimer: "Prices are examples. Update them anytime in minutes.",
    howTitle: "How it works",
    howSubtitle: "Three easy steps from booking to riding.",
    howStep1Title: "Choose a scooter",
    howStep1Body: "Pick the model and plan that matches your ride.",
    howStep2Title: "Confirm on WhatsApp",
    howStep2Body: "Send your time and ID, we reply instantly.",
    howStep3Title: "Pick up & ride",
    howStep3Body: "Grab your helmet and hit the road safely.",
    locationTitle: "Find us fast",
    locationSubtitle: "Paste your Google Maps embed link in the config.",
    locationHint: "Open full map directions.",
    locationLink: "Open in Google Maps",
    faqTitle: "FAQ",
    faqSubtitle: "Quick answers for a smooth rental.",
    faq1Q: "Do I need a driver license?",
    faq1A:
      "A valid ID is enough for most rentals. Ask us if a license is required in your city.",
    faq2Q: "Is fuel included?",
    faq2A: "Scooters are delivered with a full tank. You only pay for what you use.",
    faq3Q: "Can I extend my rental?",
    faq3A: "Yes, just message us on WhatsApp and we will update your plan.",
    faq4Q: "What about helmets?",
    faq4A: "Helmets and basic safety gear are included for every rider.",
    faq5Q: "Do you offer delivery?",
    faq5A: "We can arrange pickup or drop-off within the central zone.",
    contactTitle: "Contact us",
    contactSubtitle: "We reply in minutes during business hours.",
    contactPhoneLabel: "Phone",
    contactWhatsAppLabel: "WhatsApp",
    contactHoursLabel: "Opening hours",
    contactAddressLabel: "Address",
    formName: "Name",
    formContact: "Phone or email",
    formMessage: "Message",
    formSubmit: "Send message",
    formSuccess: "Your email app should open now. We will reply shortly.",
    footerText:
      "SwiftRide Scooter Rentals. Safe rides, friendly service, city-ready scooters.",
  },
  fr: {
    brandName: "SwiftRide",
    skipToContent: "Aller au contenu",
    navHome: "Accueil",
    navPricing: "Tarifs",
    navHow: "Comment ça marche",
    navLocation: "Localisation",
    navFaq: "FAQ",
    navContact: "Contact",
    heroEyebrow: "Location de scooters urbains",
    heroTitle: "Parcourez la ville en quelques minutes.",
    heroSubtitle:
      "Réservez un scooter propre et fiable via WhatsApp en quelques secondes. Forfaits flexibles et casques inclus.",
    ctaWhatsapp: "Écrire sur WhatsApp",
    ctaCall: "Appeler",
    bulletFast: "Retrait rapide",
    bulletDeals: "Offres jour/semaine",
    bulletHelmets: "Casques inclus",
    heroCardTitle: "Prêt en 5 minutes",
    heroCardBody: "Réservez par téléphone ou WhatsApp et récupérez au centre-ville.",
    heroTag1: "Sans dépôt",
    heroTag2: "Assistance toute la journée",
    pricingTitle: "Tarifs simples",
    pricingSubtitle: "Des formules claires pour toutes vos sorties.",
    pricingHourly: "À l'heure",
    pricingHourlyNote: "Idéal pour les petits trajets.",
    pricingDaily: "À la journée",
    pricingDailyNote: "Parfait pour explorer la ville.",
    pricingWeekly: "À la semaine",
    pricingWeeklyNote: "Le choix des navetteurs.",
    pricingDisclaimer: "Prix indicatifs, modifiables facilement.",
    howTitle: "Comment ça marche",
    howSubtitle: "Trois étapes simples pour rouler.",
    howStep1Title: "Choisissez un scooter",
    howStep1Body: "Sélectionnez le modèle et le forfait adaptés.",
    howStep2Title: "Confirmez sur WhatsApp",
    howStep2Body: "Envoyez l'heure et votre pièce d'identité, réponse rapide.",
    howStep3Title: "Récupérez et roulez",
    howStep3Body: "Prenez votre casque et partez en toute sécurité.",
    locationTitle: "Nous trouver",
    locationSubtitle: "Collez le lien d'intégration Google Maps dans la config.",
    locationHint: "Ouvrir l'itinéraire complet.",
    locationLink: "Ouvrir dans Google Maps",
    faqTitle: "FAQ",
    faqSubtitle: "Réponses rapides pour une location sereine.",
    faq1Q: "Ai-je besoin d'un permis ?",
    faq1A:
      "Une pièce d'identité suffit souvent. Demandez-nous si un permis est requis dans votre ville.",
    faq2Q: "Le carburant est-il inclus ?",
    faq2A: "Les scooters sont livrés avec le plein. Vous payez ce que vous utilisez.",
    faq3Q: "Puis-je prolonger la location ?",
    faq3A: "Oui, envoyez un message WhatsApp et nous mettrons à jour votre forfait.",
    faq4Q: "Et les casques ?",
    faq4A: "Les casques et l'équipement de base sont inclus pour chaque client.",
    faq5Q: "Proposez-vous la livraison ?",
    faq5A: "Nous pouvons organiser un retrait ou une livraison dans la zone centrale.",
    contactTitle: "Nous contacter",
    contactSubtitle: "Nous répondons en quelques minutes pendant les horaires.",
    contactPhoneLabel: "Téléphone",
    contactWhatsAppLabel: "WhatsApp",
    contactHoursLabel: "Horaires",
    contactAddressLabel: "Adresse",
    formName: "Nom",
    formContact: "Téléphone ou email",
    formMessage: "Message",
    formSubmit: "Envoyer",
    formSuccess: "Votre application email devrait s'ouvrir. Réponse rapide assurée.",
    footerText:
      "SwiftRide Location de scooters. Trajets sûrs, service convivial, scooters prêts pour la ville.",
  },
  ar: {
    brandName: "سويفت رايد",
    skipToContent: "تخطي إلى المحتوى",
    navHome: "الرئيسية",
    navPricing: "الأسعار",
    navHow: "كيف يعمل",
    navLocation: "الموقع",
    navFaq: "الأسئلة",
    navContact: "اتصل بنا",
    heroEyebrow: "تأجير سكوترات المدينة",
    heroTitle: "تنقّل في المدينة خلال دقائق.",
    heroSubtitle:
      "احجز سكوترًا نظيفًا وموثوقًا عبر واتساب بسرعة. خطط مرنة وخوذات مجانية.",
    ctaWhatsapp: "راسلنا على واتساب",
    ctaCall: "اتصل الآن",
    bulletFast: "استلام سريع",
    bulletDeals: "عروض يومية/أسبوعية",
    bulletHelmets: "الخوذات متوفرة",
    heroCardTitle: "جاهز خلال 5 دقائق",
    heroCardBody: "احجز عبر الهاتف أو واتساب واستلم من فرع وسط المدينة.",
    heroTag1: "بدون عربون",
    heroTag2: "دعم طوال اليوم",
    pricingTitle: "أسعار واضحة",
    pricingSubtitle: "خطط مناسبة للرحلات القصيرة والطويلة.",
    pricingHourly: "بالساعة",
    pricingHourlyNote: "مثالي للمشاوير السريعة.",
    pricingDaily: "يومي",
    pricingDailyNote: "الأفضل لاستكشاف المدينة.",
    pricingWeekly: "أسبوعي",
    pricingWeeklyNote: "مناسب للتنقل اليومي.",
    pricingDisclaimer: "الأسعار أمثلة ويمكن تعديلها بسهولة.",
    howTitle: "كيف يعمل",
    howSubtitle: "ثلاث خطوات بسيطة من الحجز حتى الركوب.",
    howStep1Title: "اختر السكوتر",
    howStep1Body: "اختر الموديل والخطة المناسبة.",
    howStep2Title: "أكّد عبر واتساب",
    howStep2Body: "أرسل الوقت والهوية، وسنرد فورًا.",
    howStep3Title: "استلم وانطلق",
    howStep3Body: "خذ خوذتك وانطلق بأمان.",
    locationTitle: "اعثر علينا بسرعة",
    locationSubtitle: "ألصق رابط تضمين خرائط Google في الإعدادات.",
    locationHint: "افتح الاتجاهات الكاملة على الخريطة.",
    locationLink: "فتح في خرائط Google",
    faqTitle: "الأسئلة الشائعة",
    faqSubtitle: "إجابات سريعة لتأجير سلس.",
    faq1Q: "هل أحتاج إلى رخصة قيادة؟",
    faq1A: "يكفي إثبات هوية في أغلب الحالات. اسألنا عن متطلبات مدينتك.",
    faq2Q: "هل الوقود مشمول؟",
    faq2A: "نُسلّم السكوتر بخزان ممتلئ وتدفع حسب الاستخدام.",
    faq3Q: "هل يمكنني تمديد الحجز؟",
    faq3A: "نعم، راسلنا على واتساب وسنحدّث خطتك.",
    faq4Q: "ماذا عن الخوذات؟",
    faq4A: "الخوذات ومعدات السلامة الأساسية مشمولة لكل عميل.",
    faq5Q: "هل تقدمون خدمة التوصيل؟",
    faq5A: "نستطيع ترتيب الاستلام أو التوصيل ضمن المنطقة المركزية.",
    contactTitle: "تواصل معنا",
    contactSubtitle: "نرد خلال دقائق في ساعات العمل.",
    contactPhoneLabel: "الهاتف",
    contactWhatsAppLabel: "واتساب",
    contactHoursLabel: "ساعات العمل",
    contactAddressLabel: "العنوان",
    formName: "الاسم",
    formContact: "الهاتف أو البريد الإلكتروني",
    formMessage: "الرسالة",
    formSubmit: "إرسال",
    formSuccess: "سيتم فتح تطبيق البريد الآن وسنرد قريبًا.",
    footerText:
      "سويفت رايد لتأجير السكوترات. رحلات آمنة وخدمة ودودة وسكوترات جاهزة للمدينة.",
  },
  pl: {
    brandName: "SwiftRide",
    skipToContent: "Przejdź do treści",
    navHome: "Start",
    navPricing: "Cennik",
    navHow: "Jak to działa",
    navLocation: "Lokalizacja",
    navFaq: "FAQ",
    navContact: "Kontakt",
    heroEyebrow: "Wynajem skuterów miejskich",
    heroTitle: "Pokonaj miasto w kilka minut.",
    heroSubtitle:
      "Zarezerwuj czysty, niezawodny skuter przez WhatsApp w kilka sekund. Elastyczne plany i kaski w cenie.",
    ctaWhatsapp: "Napisz na WhatsApp",
    ctaCall: "Zadzwoń",
    bulletFast: "Szybki odbiór",
    bulletDeals: "Oferty dzienne/tygodniowe",
    bulletHelmets: "Kaski w zestawie",
    heroCardTitle: "Gotowy w 5 minut",
    heroCardBody: "Rezerwuj telefonicznie lub przez WhatsApp i odbierz w centrum.",
    heroTag1: "Bez kaucji",
    heroTag2: "Wsparcie cały dzień",
    pricingTitle: "Prosty cennik",
    pricingSubtitle: "Jasne plany na krótki i długi wynajem.",
    pricingHourly: "Godzinny",
    pricingHourlyNote: "Idealny na szybkie sprawy.",
    pricingDaily: "Dzienny",
    pricingDailyNote: "Najlepszy do zwiedzania miasta.",
    pricingWeekly: "Tygodniowy",
    pricingWeeklyNote: "Świetny dla dojeżdżających.",
    pricingDisclaimer: "Ceny przykładowe — łatwo je zmienić.",
    howTitle: "Jak to działa",
    howSubtitle: "Trzy proste kroki do jazdy.",
    howStep1Title: "Wybierz skuter",
    howStep1Body: "Dobierz model i plan do swoich potrzeb.",
    howStep2Title: "Potwierdź na WhatsApp",
    howStep2Body: "Wyślij godzinę i dokument, odpowiemy od razu.",
    howStep3Title: "Odbierz i jedź",
    howStep3Body: "Weź kask i ruszaj bezpiecznie.",
    locationTitle: "Znajdź nas",
    locationSubtitle: "Wklej link do osadzenia Google Maps w konfiguracji.",
    locationHint: "Otwórz pełną mapę.",
    locationLink: "Otwórz w Google Maps",
    faqTitle: "FAQ",
    faqSubtitle: "Szybkie odpowiedzi dla spokojnego wynajmu.",
    faq1Q: "Czy potrzebuję prawa jazdy?",
    faq1A:
      "W większości przypadków wystarczy dowód. Zapytaj o wymagania w swoim mieście.",
    faq2Q: "Czy paliwo jest wliczone?",
    faq2A: "Skutery są wydawane z pełnym bakiem. Płacisz za zużycie.",
    faq3Q: "Czy mogę przedłużyć wynajem?",
    faq3A: "Tak, napisz na WhatsApp, a zaktualizujemy plan.",
    faq4Q: "A co z kaskami?",
    faq4A: "Kaski i podstawowe wyposażenie są wliczone dla każdego klienta.",
    faq5Q: "Czy oferujecie dostawę?",
    faq5A: "Możemy zorganizować odbiór lub dowóz w centrum.",
    contactTitle: "Kontakt",
    contactSubtitle: "Odpowiadamy w kilka minut w godzinach pracy.",
    contactPhoneLabel: "Telefon",
    contactWhatsAppLabel: "WhatsApp",
    contactHoursLabel: "Godziny otwarcia",
    contactAddressLabel: "Adres",
    formName: "Imię",
    formContact: "Telefon lub e-mail",
    formMessage: "Wiadomość",
    formSubmit: "Wyślij",
    formSuccess: "Powinna otworzyć się aplikacja pocztowa. Odpowiemy wkrótce.",
    footerText:
      "SwiftRide wynajem skuterów. Bezpieczne przejazdy, miła obsługa i skutery gotowe na miasto.",
  },
  cs: {
    brandName: "SwiftRide",
    skipToContent: "Přejít na obsah",
    navHome: "Domů",
    navPricing: "Ceník",
    navHow: "Jak to funguje",
    navLocation: "Lokalita",
    navFaq: "FAQ",
    navContact: "Kontakt",
    heroEyebrow: "Městské půjčovny skútrů",
    heroTitle: "Projeďte město za pár minut.",
    heroSubtitle:
      "Rezervujte čistý a spolehlivý skútr přes WhatsApp během pár sekund. Flexibilní tarify a helmy v ceně.",
    ctaWhatsapp: "Napsat na WhatsApp",
    ctaCall: "Zavolat",
    bulletFast: "Rychlé vyzvednutí",
    bulletDeals: "Denní/Týdenní nabídky",
    bulletHelmets: "Helmy v ceně",
    heroCardTitle: "Připraveno za 5 minut",
    heroCardBody: "Rezervujte telefonicky nebo přes WhatsApp a vyzvedněte v centru.",
    heroTag1: "Bez zálohy",
    heroTag2: "Podpora celý den",
    pricingTitle: "Jednoduché ceny",
    pricingSubtitle: "Přehledné tarify pro krátké i delší jízdy.",
    pricingHourly: "Hodinový",
    pricingHourlyNote: "Skvělé na rychlé pochůzky.",
    pricingDaily: "Denní",
    pricingDailyNote: "Ideální na poznávání města.",
    pricingWeekly: "Týdenní",
    pricingWeeklyNote: "Skvělé pro dojíždění.",
    pricingDisclaimer: "Ceny jsou orientační a snadno upravitelné.",
    howTitle: "Jak to funguje",
    howSubtitle: "Tři jednoduché kroky k jízdě.",
    howStep1Title: "Vyberte skútr",
    howStep1Body: "Zvolte model a tarif, který vám sedí.",
    howStep2Title: "Potvrďte na WhatsApp",
    howStep2Body: "Pošlete čas a doklad, odpovíme hned.",
    howStep3Title: "Vyzvedněte a jeďte",
    howStep3Body: "Vezměte helmu a vyražte bezpečně.",
    locationTitle: "Najděte nás",
    locationSubtitle: "Vložte odkaz na Google Maps do konfigurace.",
    locationHint: "Otevřít úplnou mapu.",
    locationLink: "Otevřít v Google Maps",
    faqTitle: "FAQ",
    faqSubtitle: "Rychlé odpovědi pro klidný pronájem.",
    faq1Q: "Potřebuji řidičský průkaz?",
    faq1A:
      "Ve většině případů stačí doklad totožnosti. Zeptejte se na podmínky ve vašem městě.",
    faq2Q: "Je palivo v ceně?",
    faq2A: "Skútry vydáváme s plnou nádrží. Platíte jen za spotřebu.",
    faq3Q: "Mohu prodloužit pronájem?",
    faq3A: "Ano, napište nám na WhatsApp a tarif upravíme.",
    faq4Q: "Co helmy?",
    faq4A: "Helmy a základní bezpečnostní výbava jsou v ceně.",
    faq5Q: "Nabízíte dopravu?",
    faq5A: "Můžeme zajistit vyzvednutí nebo dovoz v centru.",
    contactTitle: "Kontaktujte nás",
    contactSubtitle: "Během otevírací doby odpovíme do pár minut.",
    contactPhoneLabel: "Telefon",
    contactWhatsAppLabel: "WhatsApp",
    contactHoursLabel: "Otevírací doba",
    contactAddressLabel: "Adresa",
    formName: "Jméno",
    formContact: "Telefon nebo e-mail",
    formMessage: "Zpráva",
    formSubmit: "Odeslat",
    formSuccess: "Měla by se otevřít e-mailová aplikace. Brzy odpovíme.",
    footerText:
      "SwiftRide půjčovna skútrů. Bezpečné jízdy, přátelský servis, městské skútry připravené vyrazit.",
  },
};

const elements = {
  heroWhatsapp: document.getElementById("hero-whatsapp"),
  heroCall: document.getElementById("hero-call"),
  fabWhatsapp: document.getElementById("fab-whatsapp"),
  fabCall: document.getElementById("fab-call"),
  mapEmbed: document.getElementById("map-embed"),
  mapLink: document.getElementById("map-link"),
  contactPhone: document.getElementById("contact-phone"),
  contactWhatsapp: document.getElementById("contact-whatsapp"),
  contactHours: document.getElementById("contact-hours"),
  contactAddress: document.getElementById("contact-address"),
  contactForm: document.getElementById("contact-form"),
  formSuccess: document.querySelector(".form-success"),
  menuToggle: document.querySelector(".menu-toggle"),
  siteNav: document.querySelector(".site-nav"),
  langButtons: Array.from(document.querySelectorAll(".lang-switcher button")),
};

const phoneLink = (number) => `tel:${number.replace(/\s+/g, "")}`;
const whatsappLink = (number) =>
  `https://wa.me/${number.replace(/[^\d]/g, "")}`;

const applyConfig = () => {
  elements.heroWhatsapp.href = whatsappLink(CONFIG.WHATSAPP_NUMBER);
  elements.heroCall.href = phoneLink(CONFIG.PHONE_NUMBER);
  elements.fabWhatsapp.href = whatsappLink(CONFIG.WHATSAPP_NUMBER);
  elements.fabCall.href = phoneLink(CONFIG.PHONE_NUMBER);
  elements.mapEmbed.src = CONFIG.MAPS_EMBED_URL;
  elements.mapLink.href = CONFIG.MAPS_LINK_URL;
  elements.contactPhone.textContent = CONFIG.PHONE_NUMBER;
  elements.contactWhatsapp.textContent = CONFIG.WHATSAPP_NUMBER;
  elements.contactHours.textContent = CONFIG.OPENING_HOURS;
  elements.contactAddress.textContent = CONFIG.ADDRESS;
};

const setLanguage = (lang) => {
  const dictionary = i18n[lang] || i18n.en;
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

  Object.keys(dictionary).forEach((key) => {
    document.querySelectorAll(`[data-i18n="${key}"]`).forEach((el) => {
      el.textContent = dictionary[key];
    });
  });

  elements.langButtons.forEach((button) => {
    button.classList.toggle("active", button.dataset.lang === lang);
  });

  localStorage.setItem("language", lang);
};

const detectLanguage = () => {
  const stored = localStorage.getItem("language");
  if (stored && i18n[stored]) {
    return stored;
  }
  const browserLang = navigator.language.split("-")[0];
  return i18n[browserLang] ? browserLang : "en";
};

const setupMenu = () => {
  elements.menuToggle.addEventListener("click", () => {
    const isOpen = elements.siteNav.classList.toggle("open");
    elements.menuToggle.setAttribute("aria-expanded", String(isOpen));
  });

  elements.siteNav.querySelectorAll("a").forEach((link) => {
    link.addEventListener("click", () => {
      elements.siteNav.classList.remove("open");
      elements.menuToggle.setAttribute("aria-expanded", "false");
    });
  });
};

const setupForm = () => {
  elements.contactForm.addEventListener("submit", (event) => {
    event.preventDefault();
    const formData = new FormData(elements.contactForm);
    const name = formData.get("name");
    const contact = formData.get("contact");
    const message = formData.get("message");
    const subject = encodeURIComponent(
      `Scooter rental inquiry from ${name}`
    );
    const body = encodeURIComponent(
      `Name: ${name}\nContact: ${contact}\nMessage: ${message}`
    );
    window.location.href = `mailto:info@${
      CONFIG.BUSINESS_NAME.toLowerCase()
    }.com?subject=${subject}&body=${body}`;
    elements.formSuccess.textContent =
      i18n[document.documentElement.lang]?.formSuccess || i18n.en.formSuccess;
    elements.contactForm.reset();
  });
};

const init = () => {
  applyConfig();
  setLanguage(detectLanguage());
  elements.langButtons.forEach((button) => {
    button.addEventListener("click", () => setLanguage(button.dataset.lang));
  });
  setupMenu();
  setupForm();
};

init();
